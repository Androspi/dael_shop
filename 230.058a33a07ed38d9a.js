"use strict";(self.webpackChunkdael_shop=self.webpackChunkdael_shop||[]).push([[230],{6230:(v,l,i)=>{i.r(l),i.d(l,{ProductComponent:()=>C});var _=i(5183),t=i(4946),u=i(1924),d=i(5993),p=i(4670),m=i(7408),s=i(6814);function h(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.setPackagePage(-1))}),t.TgZ(1,"span",7),t._uU(2,"chevron_left"),t.qZA()()}}const P=function(a){return{active:a}};function b(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"div",25)(1,"button",26),t.NdJ("click",function(){const r=t.CHM(n).$implicit,g=t.oxw(2);return t.KtG(g.setSelectedPackage(r.id))}),t._UZ(2,"img",27),t.qZA(),t.TgZ(3,"div",28),t._uU(4),t.ALo(5,"currency"),t.qZA()()}if(2&a){const n=c.$implicit,e=t.oxw(2);t.Q6J("ngClass",t.VKq(10,P,n.id===e.packageId)),t.uIk("item-name",n.name),t.xp6(2),t.MGl("src","assets/packages/",n.icon,".png",t.LSH),t.s9C("alt",n.name),t.xp6(2),t.hij(" ",t.gM2(5,5,n.price,"COP","symbol","0.0-0")," ")}}function f(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.setPackagePage(1))}),t.TgZ(1,"span",7),t._uU(2,"chevron_right"),t.qZA()()}}function k(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"main")(1,"section",1)(2,"a",2)(3,"span",3),t._uU(4,"keyboard_backspace"),t.qZA()(),t._UZ(5,"img",4),t.TgZ(6,"div",5)(7,"button",6)(8,"span",7),t._uU(9,"star_outline"),t.qZA()(),t.TgZ(10,"button",6)(11,"span",7),t._uU(12,"share"),t.qZA()()()(),t.TgZ(13,"h1",8,9),t._uU(15),t.qZA(),t._UZ(16,"div",10),t.TgZ(17,"h1",11),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.TgZ(20,"section",12)(21,"p",13)(22,"small"),t._uU(23,"Empaque"),t.qZA()(),t.YNc(24,h,3,0,"button",14),t.YNc(25,b,6,12,"div",15),t.ALo(26,"slice"),t.YNc(27,f,3,0,"button",16),t.qZA(),t.TgZ(28,"p",17),t._uU(29),t.qZA(),t.TgZ(30,"section",18)(31,"button",19),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.appendProduct())}),t.TgZ(32,"span",20),t._uU(33,"AGREGAR"),t.qZA(),t.TgZ(34,"span")(35,"span",21)(36,"u",22),t._uU(37),t.ALo(38,"currency"),t.qZA()(),t._UZ(39,"img",23),t.qZA()()()()}if(2&a){const n=t.MAs(14),e=t.oxw();t.xp6(5),t.Udp("transform","rotate("+e.product.rotation+")"),t.MGl("src","assets/",e.product.image,"",t.LSH),t.Q6J("alt",e.product.name),t.xp6(10),t.hij(" ",e.product.name," "),t.xp6(1),t.Udp("margin-top",-n.offsetHeight/2+"px"),t.xp6(2),t.hij(" ",t.gM2(19,13,e.product.price,"COP","symbol","0.0-0")," "),t.xp6(6),t.Q6J("ngIf",1!==e.packagePage.page),t.xp6(1),t.Q6J("ngForOf",t.Dn7(26,18,e.Packages.list,e.packagePage.start,e.packagePage.end)),t.xp6(2),t.Q6J("ngIf",e.packagePage.page<e.packagePage.list),t.xp6(2),t.Oqu(e.product.description),t.xp6(8),t.Oqu(t.gM2(38,22,e.subtotal,"COP","symbol","1.0-0"))}}let C=(()=>{var a;class c{constructor(e,o,r,g,M){this.Packages=e,this.Products=o,this.route=r,this.Cart=g,this.router=M,this.subtotal=0,this.vw=0,this.packagePage={page:0,limit:0,start:0,end:0,list:0},this.productId=this.route.snapshot.paramMap.get("id")}ngAfterViewInit(){setTimeout(()=>{this.product=this.Products.list.find(({id:o})=>o===this.productId),this.setSubtotal(),this.route.queryParams.subscribe(({pkg:o="1"})=>{this.packageId=+o,this.package=this.Packages.list.find(({id:r})=>+o===r),this.setSubtotal()}),window.addEventListener("resize",e),e()},0);const e=()=>{this.vw=window.innerWidth,this.setPackageLimit()}}setSelectedPackage(e){this.router.navigate([`/product/${this.productId}`],{relativeTo:this.route,queryParams:{pkg:e}})}setSubtotal(){!this.product||!this.package||(this.subtotal=this.product.price+this.package.price)}setPackageLimit(){this.packagePage.limit=this.vw>486?4:3,this.packagePage.list=Math.ceil(this.Packages.list.length/3),this.setPackagePage(1)}setPackagePage(e){this.packagePage.page+=e,this.packagePage.start=(this.packagePage.page-1)*this.packagePage.limit,this.packagePage.end=this.packagePage.start+this.packagePage.limit}appendProduct(){this.Cart.appendProduct(this.productId,this.packageId),this.router.navigate(["/shop"])}}return(a=c).\u0275fac=function(e){return new(e||a)(t.Y36(u.M),t.Y36(d.M),t.Y36(p.gz),t.Y36(m.N),t.Y36(p.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-product"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[1,"ds-primary-light-bg","pt-5","ps-3","pe-3","pb-5","position-relative"],["role","button","routerLink","/shop",1,"btn",2,"border-radius","0.1875rem","border","1px solid #808080","--bs-btn-padding-x",".375rem"],[1,"material-icons","d-block",2,"color","#212121"],["height","300",1,"d-block","mb-5","ms-auto","me-auto",3,"src","alt"],[1,"btn-section"],[1,"btn"],[1,"material-icons","d-block"],[1,"product-title","ms-5","me-5"],["title",""],[1,"translate-braker"],[1,"product-price","ms-5","me-5","mt-3"],[1,"ds-primary-light-bg","position-relative","mt-5","d-flex","ps-5","pe-5",2,"justify-content","space-between"],[1,"package-title"],["class","btn p-0","style","align-self: center; position: absolute; left: 1.5rem;",3,"click",4,"ngIf"],["class","text-center package-item",3,"ngClass",4,"ngFor","ngForOf"],["class","btn p-0","style","align-self: center; position: absolute; right: 1.5rem;",3,"click",4,"ngIf"],[1,"mt-5","ms-5","me-5",2,"font-weight","300","font-size","16px","margin-bottom","2rem"],[1,"m-3"],[1,"btn","btn-dark","append-btn","d-flex","w-100",3,"click"],[2,"letter-spacing","0.15rem"],[1,"ms-2"],[2,"font-size",".675em"],["width","40","src","assets/icons/love-bag.png","alt","bolsa-compras.png",1,"ms-2",2,"filter","var(--ds-primary-flt)"],[1,"btn","p-0",2,"align-self","center","position","absolute","left","1.5rem",3,"click"],[1,"text-center","package-item",3,"ngClass"],[1,"btn","position-relative","p-0",3,"click"],["height","64","width","64",2,"object-fit","contain",3,"src","alt"],[1,"mt-2","mb-0","package-item-text"],[1,"btn","p-0",2,"align-self","center","position","absolute","right","1.5rem",3,"click"]],template:function(e,o){1&e&&t.YNc(0,k,40,27,"main",0),2&e&&t.Q6J("ngIf",o.product)},dependencies:[_.m,s.mk,s.sg,s.O5,p.rH,s.OU,s.H9],styles:['.product-img-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:300px}.product-title[_ngcontent-%COMP%]{transform:translateY(-50%);word-spacing:9999px;font-weight:200}.product-price[_ngcontent-%COMP%]{color:var(--ds-primary-dark2);font-weight:600}.btn-section[_ngcontent-%COMP%]{transform:translate(-100%,-50%);flex-direction:column;position:absolute;display:flex;z-index:1;top:100%;right:0}.btn-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{--bs-btn-padding-x: .375rem;--bs-btn-border-radius: 0}.btn-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#000;font-size:32px}.btn-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{transform:translate(-100%);background-color:#fff}.btn-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{background-color:var(--ds-primary-light)}.package-title[_ngcontent-%COMP%]{color:var(--ds-primary-dark);transform:rotate(270deg);position:absolute;left:0}.package-item[_ngcontent-%COMP%]{margin:.25rem 1rem;position:relative;font-weight:300;color:#000}.package-item.active[_ngcontent-%COMP%]:before, .package-item[_ngcontent-%COMP%]:hover:before, .package-item[_ngcontent-%COMP%]:focus:before, .package-item[_ngcontent-%COMP%]:active:before{transform:translate(-50%);content:attr(item-name);top:calc(100% + .5em);white-space:nowrap;position:absolute;font-size:12px;left:50%}.package-item.active[_ngcontent-%COMP%]:after, .package-item[_ngcontent-%COMP%]:hover:after, .package-item[_ngcontent-%COMP%]:focus:after, .package-item[_ngcontent-%COMP%]:active:after{transform:translate(-50%);border:1px solid black;position:absolute;content:"";width:60%;top:100%;left:50%}.append-btn[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;border-radius:16px;font-size:25px;padding:15px}']}),c})()}}]);